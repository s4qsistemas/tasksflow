<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title><%= title %></title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Tailwind -->
  <link href="/css/output.css" rel="stylesheet" />

  <!-- Favicon & App Icons -->
  <link rel="icon" type="image/svg+xml" href="/img/favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon-180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/img/favicon-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/img/favicon-512.png">

  <!-- PWA Manifest -->
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#2E7D32">

  <!-- Material Icons (Google) -->
    <!-- material-icons -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
    <!-- material-symbols-outlined -->
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet">
      
    <!-- material-symbols-rounded -->
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded"
      rel="stylesheet">
</head>
<body class="min-h-screen bg-[#F8FAFC] flex flex-col text-[#111827]">

  <!-- Aquí se inyecta el contenido de cada página -->
  <main class="flex-grow">
    <%- body %>
  </main>

  <!-- Footer -->
  <footer class="bg-[#2E7D32] text-gray-100 text-sm text-center py-6">
    © <%= new Date().getFullYear() %> TasksFlow — Gestión colaborativa de tareas • GPLv3
  </footer>

  <!-- Login Modal -->
  <div id="loginModal" class="hidden fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50">
    <div class="bg-white rounded-2xl shadow-lg p-6 w-80 relative">
      <button class="absolute top-3 right-3 text-gray-400 hover:text-gray-600" onclick="toggleModal('loginModal', false)">✕</button>
      <h3 class="text-lg font-semibold mb-4 text-center text-[#2E7D32]">Iniciar sesión</h3>
      <form id="loginForm" action="/login" method="post" class="space-y-3">
        <input type="text" name="username" placeholder="Usuario" required class="w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#2E7D32]">
        <input type="password" name="password" placeholder="Contraseña" required class="w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#2E7D32]">
        <button type="submit" class="w-full px-4 py-2 bg-[#2E7D32] text-white rounded-lg hover:bg-[#256028] transition">Ingresar</button>
      </form>
    </div>
  </div>

  <!-- Contact Modal -->
  <div id="contactModal" class="hidden fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50">
    <div class="bg-white rounded-2xl shadow-lg p-6 w-96 relative">
      <button class="absolute top-3 right-3 text-gray-400 hover:text-gray-600" onclick="toggleModal('contactModal', false)">✕</button>
      <h3 class="text-lg font-semibold mb-4 text-center text-[#2E7D32]">Contáctanos</h3>
      <form id="contactForm"  action="/contacto" method="post" class="space-y-3">
        <input type="text" name="nombre" placeholder="Tu nombre" required class="w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#FB923C]">
        <input type="email" name="email" placeholder="Correo electrónico" required class="w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#FB923C]">
        <input type="tel" name="telefono" placeholder="Teléfono (opcional)" class="w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#FB923C]">
        <textarea name="mensaje" rows="3" placeholder="Tu mensaje" required class="w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#FB923C]"></textarea>
        <button type="submit" class="w-full px-4 py-2 bg-[#FACC15] text-[#111827] font-semibold rounded-lg hover:bg-[#EAB308] transition">
          Enviar mensaje
        </button>
      </form>
    </div>
  </div>

  <script src="/js/main.js" defer></script>
</body>
</html>
